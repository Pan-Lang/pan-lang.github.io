(this["webpackJsonppanlang-ui"]=this["webpackJsonppanlang-ui"]||[]).push([[0],{205:function(e,t,a){e.exports=a.p+"static/media/empty-cart.302b7b48.svg"},215:function(e,t,a){e.exports=a(282)},228:function(e,t,a){e.exports=a.p+"static/media/logo_nobg.484389dc.png"},277:function(e,t){},281:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a.n(o),c=a(32),i=a(18),u=a(325),s=a(326),m=a(33),d=a(340),g=a(322),b=a(9),p=a(318),E=a(338),f=a(320),F=a(196),h=a.n(F),y=Object(p.a)((function(e){var t;return{buttonCollapse:(t={},Object(m.a)(t,e.breakpoints.up("sm"),{display:"none"}),Object(m.a)(t,"margin","10px"),Object(m.a)(t,"boxShadow","none"),t)}}));var k=function(e){var t=e.children,a=Object(n.useState)(!1),o=Object(b.a)(a,2),l=o[0],c=o[1],i=y();return r.a.createElement("div",{className:i.buttonCollapse},r.a.createElement(f.a,{onClick:function(e){return c(Boolean(e.currentTarget))}},r.a.createElement(h.a,null)),r.a.createElement(E.a,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:l,onClose:function(){return c(!1)}},t))},v=Object(p.a)((function(e){var t;return{root:{position:"absolute",right:0},buttonBar:(t={},Object(m.a)(t,e.breakpoints.down("xs"),{display:"none"}),Object(m.a)(t,"margin","10px"),Object(m.a)(t,"paddingLeft","16px"),Object(m.a)(t,"right",0),Object(m.a)(t,"position","relative"),Object(m.a)(t,"width","100%"),Object(m.a)(t,"background","transparent"),t),link:{margin:e.spacing(1,1),color:"gray"},login:{margin:"10px"}}})),C=[{page:"About",to:"/about"},{page:"Order Form",to:"/order"},{page:"Order Tracker",to:"/order-tracker"},{page:"Stock",to:"/stock"}];var O=function(){var e=v();return r.a.createElement("div",{className:e.root},r.a.createElement(k,null,C.map((function(e){return r.a.createElement(d.a,{key:e.to,component:c.b,to:e.to},e.page)})),r.a.createElement(d.a,{component:c.b,to:"/login"},"Login")),r.a.createElement("nav",{className:e.buttonBar,id:"appbar-collapse"},C.map((function(t){return r.a.createElement(g.a,{component:c.b,className:e.link,to:t.to,key:t.to},t.page)})),r.a.createElement(g.a,{component:c.b,to:"/login",variant:"contained",className:e.login},"Login")))},S=a(324),j=a(323),w=Object(p.a)((function(e){return{root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},navigation:{backgroundColor:"white"},toggleDrawer:{},appTitle:{}}}));var x=function(){var e=w(),t=Object(j.a)();return r.a.createElement(S.a,{appear:!1,direction:"down",in:!t},r.a.createElement(u.a,{className:e.navigation},r.a.createElement(s.a,null,r.a.createElement(c.b,{to:"/"},r.a.createElement("img",{src:a(228),alt:"Pan-Lang",style:{width:75,height:75}})),r.a.createElement(O,null))))},A=a(113),I=a(55),N=a(26),B=a(34),R=a(29),q=a.n(R),L=a(54),D=a(197),z="https://panlang.herokuapp.com",T=a.n(D).a.create({baseURL:z});function V(){return(V=Object(L.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T.post("/people",t).then((function(e){return!0})).catch((function(e){return!1}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=["1","2","3","4","5","6","7","8","9","10","11","12"],P=["January","February","March","April","May","June","July","August","September","October","November","December"],G=["2020","2021","2022","2023","2024"];var W=function(){var e=new Date,t=Object(n.useState)({month:H[e.getMonth()],year:e.getFullYear()}),a=Object(b.a)(t,2),o=a[0],l=a[1];return r.a.createElement(N.a,{style:{textAlign:"center"}},r.a.createElement("div",{style:{marginBottom:20}},r.a.createElement("br",null),r.a.createElement("h1",null,"Welcome to ")," ",r.a.createElement("h1",null,r.a.createElement("font",{style:{color:"#35E82A",fontWeight:"bold"}},"Pan-"),r.a.createElement("font",{style:{color:"#2EFFD5",fontWeight:"bold"}},"Lang"))),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/order",style:{color:"white"}},r.a.createElement(I.a,{style:{backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"},size:"lg",className:"mb-3",block:!0},"Start a new order"))),r.a.createElement(c.b,{to:"/stock",style:{color:"white"}},r.a.createElement(I.a,{style:{backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"},size:"lg",className:"mb-3",block:!0},"Edit and add stock items")," "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("a",{href:"".concat(z).concat("/people","?").concat(new URLSearchParams(o))},r.a.createElement(I.a,{style:{backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"},size:"lg",className:"mb-3",block:!0},"Download order data")," "),r.a.createElement(B.a,{onChange:function(e){return console.log(e)}},r.a.createElement(B.a.Toggle,{variant:"type",id:"dropdown-basic",size:"md",className:"mb-3",style:{backgroundColor:"#35E82A",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"}},"Month: ",r.a.createElement("b",null,P[H.indexOf(o.month)])),r.a.createElement(B.a.Menu,null,H.map((function(e){return r.a.createElement(B.a.Item,{onSelect:function(e){return l(Object(A.a)(Object(A.a)({},o),{},{month:e}))},eventKey:e,key:e},P[H.indexOf(e)])})))),r.a.createElement(B.a,{onChange:function(e){return console.log(e)}},r.a.createElement(B.a.Toggle,{variant:"type",id:"dropdown-basic",size:"md",className:"mb-3",style:{backgroundColor:"#35E82A",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"}},"Year: ",r.a.createElement("b",null,o.year)),r.a.createElement(B.a.Menu,null,G.map((function(e){return r.a.createElement(B.a.Item,{onSelect:function(e){return l(Object(A.a)(Object(A.a)({},o),{},{year:e}))},eventKey:e,key:e},e)})))))};var M=function(){return r.a.createElement(N.a,{style:{paddingBottom:120,backgroundColor:"white"}},r.a.createElement("div",{style:{marginBottom:20}},r.a.createElement("h1",null,"About ",r.a.createElement("font",{style:{color:"#26B020",fontWeight:"bold"}},"Pan-Lang:")),r.a.createElement("p",null,"Pan-Lang is an organizational web application designed to help local food bank organizers keep track of orders, maintain visitor records, and communicate with non-English speaking patrons."),r.a.createElement("p",null,"Food insecurity is an important issue in the Champain County community. Nearly 15% of residents must deal with food insecurity. Many of these individuals are also ineligible for federal nutrition programs and must rely on local food pantries for meals."),r.a.createElement("p",null,"On top of this, many of these individuals speak limited English, making it difficult for them to communicate their needs to food pantry staff. With Pan-Lang, our mission is to break this language barrier and provide a more efficient method of supporting those in need.")))},_=a(95),J=a(30),K=a(336),U=J.b({firstName:J.c().required(),lastName:J.c().required(),adults:J.a().moreThan(-1).required(),children:J.a().moreThan(-1).required(),zipcode:J.a().moreThan(9999).lessThan(1e5).integer().required(),orderNotes:J.c().required()});var Y=function(){var e=Object(i.f)();return r.a.createElement(N.a,{style:{backgroundColor:"white",paddingBottom:120}},r.a.createElement("h1",{style:{textAlign:"center"}},"Order"),r.a.createElement(_.a,{validationSchema:U,onSubmit:function(t){e.push("/order-stock",{fromForm:!0,personInfo:t})},initialValues:{firstName:"",lastName:"",adults:-1,children:-1,zipcode:-1,orderNotes:"test"}},(function(e){var t=e.handleSubmit,a=e.handleChange,n=(e.handleBlur,e.values,e.touched),o=(e.isValid,e.errors);return r.a.createElement("div",null,r.a.createElement(K.a,{noValidate:!0,onSubmit:t},r.a.createElement(K.a.Group,{md:"4",controlId:"orderForm1"},r.a.createElement(K.a.Label,null,"First name"),r.a.createElement(K.a.Control,{type:"text",name:"firstName",placeholder:"Enter first name here",onChange:a,isValid:n.firstName&&!o.firstName,isInvalid:!!o.firstName}),r.a.createElement(K.a.Control.Feedback,null,"Looks good!")),r.a.createElement(K.a.Group,{md:"4",controlId:"orderForm2"},r.a.createElement(K.a.Label,null,"Last name"),r.a.createElement(K.a.Control,{type:"text",name:"lastName",placeholder:"Enter last name here",onChange:a,isValid:n.lastName&&!o.lastName,isInvalid:!!o.lastName}),r.a.createElement(K.a.Control.Feedback,null,"Looks good!")),r.a.createElement(K.a.Group,{md:"4",controlId:"orderForm3"},r.a.createElement(K.a.Label,null,"# of Adults"),r.a.createElement(K.a.Control,{type:"number",name:"adults",placeholder:"Enter number of adults in household",onChange:a,isValid:n.adults&&!o.adults,isInvalid:!!o.adults}),r.a.createElement(K.a.Control.Feedback,null,"Looks good!")),r.a.createElement(K.a.Group,{md:"4",controlId:"orderForm4"},r.a.createElement(K.a.Label,null,"# of Children"),r.a.createElement(K.a.Control,{type:"number",name:"children",placeholder:"Enter number of children in household",onChange:a,isValid:n.children&&!o.children,isInvalid:!!o.children}),r.a.createElement(K.a.Control.Feedback,null,"Looks good!")),r.a.createElement(K.a.Group,{md:"4",controlId:"orderForm4"},r.a.createElement(K.a.Label,null,"ZIP Code"),r.a.createElement(K.a.Control,{type:"number",name:"zipcode",placeholder:"Enter your ZIP Code",onChange:a,isValid:n.zipcode&&!o.zipcode,isInvalid:!!o.zipcode}),r.a.createElement(K.a.Control.Feedback,null,"Looks good!")),r.a.createElement("div",{style:{display:"flex",flexDirection:"row-reverse"}},r.a.createElement(I.a,{type:"submit",style:{backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"},block:!0},"Select order"))))})))},Z=a(147),$=a(328),Q=a(335);function X(){return ee.apply(this,arguments)}function ee(){return(ee=Object(L.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.get("/stock");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(L.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T.post("/stock",t).then((function(e){return!0})).catch((function(e){return!1}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(L.a)(q.a.mark((function e(t,a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.put("".concat("/stock","/").concat(t),a).then((function(e){return console.log(e),!0})).catch((function(e){return console.error(e),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=J.b({newCount:J.a().integer().moreThan(-1).required()});var oe=function(e){var t=e.show,a=e.handleClose,o=e.getStock,l=e.stockId,c=e.stockName,i=e.stockCount,u=Object(n.useState)(!1),s=Object(b.a)(u,2),m=s[0],d=s[1],g=Object(n.useState)(!1),p=Object(b.a)(g,2),E=p[0],f=p[1];function F(){return(F=Object(L.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,ae(l,t);case 3:n=e.sent,d(!1),n?(a(),o(500)):f(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Q.a,{show:t,onHide:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(_.a,{validationSchema:re,onSubmit:function(e){return F.apply(this,arguments)},initialValues:{newCount:-1}},(function(e){var t=e.handleSubmit,n=e.handleChange,o=(e.handleBlur,e.values,e.touched),l=(e.isValid,e.errors);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a.Header,{closeButton:!0},r.a.createElement(Q.a.Title,{id:"contained-modal-title-vcenter"},"Edit amount for: ",c)),r.a.createElement(Q.a.Body,null,!m&&!E&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Current amount: ",i),r.a.createElement(K.a,{noValidate:!0,onSubmit:t},r.a.createElement(K.a.Group,{controlId:"stockCount"},r.a.createElement(K.a.Control,{type:"number",name:"newCount",placeholder:"Insert new item count",onChange:n,isValid:o.newCount&&!l.newCount,isInvalid:!!l.newCount}),r.a.createElement(K.a.Control.Feedback,null,"Looks good!")))),m&&r.a.createElement("p",null,"Updating stock count for ",c,"..."),E&&r.a.createElement("p",null,"An error occurred when trying to update stock.")),r.a.createElement(Q.a.Footer,null,!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{variant:"secondary",style:{borderRadius:"200px"},onClick:function(){f(!1),d(!1),a()}},"Close"),!E&&r.a.createElement(I.a,{onClick:t,style:{backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"}},"Save new amount"))))})))},le=a(327);var ce=function(e){var t=e.heading,a=void 0===t?"":t,n=e.body,o=e.dismissible,l=void 0!==o&&o,c=e.onClose;return r.a.createElement(le.a,{variant:"danger",onClose:c,dismissible:l,className:"mt-3"},a.length>0&&r.a.createElement(le.a.Heading,null,a),n)};var ie=function(e){var t=e.stockItem,a=e.getStock,o=e.lang,l=void 0===o?"name":o,c=Object(n.useState)(!1),i=Object(b.a)(c,2),u=i[0],s=i[1],m=Object(n.useState)(!1),d=Object(b.a)(m,2),g=d[0],p=d[1];return Object(n.useEffect)((function(){p(void 0!==t[l])}),[l,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{style:{margin:5}},r.a.createElement(Z.a.Body,null,r.a.createElement(Z.a.Header,{as:"h2"},g?t[l]:t.name,"name"!==l&&g?" ("+t.name+")":""),r.a.createElement(Z.a.Text,null,"Amount:"," ",r.a.createElement("font",{style:{fontSize:"1.4em",fontWeight:"bolder"}},t.count)),r.a.createElement(Z.a.Text,{style:{textAlign:"right"}},"Last updated:"," ",void 0!==t.timestamp?new Date(t.timestamp).toDateString():"Unavailable"),r.a.createElement(N.a,{style:{display:"flex",alignItems:"center",padding:0}},!g&&r.a.createElement($.a,{variant:"danger"},"Language unavailable: ",l),r.a.createElement("div",{style:{margin:"auto"}}),r.a.createElement(I.a,{size:"sm",style:{alignSelf:"center",backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"},onClick:function(){return s(!0)}},"Edit amount")),t.count<=0&&r.a.createElement(ce,{body:"Warning: Out of stock"}))),r.a.createElement(oe,{show:u,handleClose:function(){return s(!1)},getStock:a,stockName:g?t[l]:t.name,stockId:t._id,stockCount:t.count}))},ue=a(146),se=J.b({name:J.c().required(),count:J.a().integer().moreThan(-1).required()});var me=function(e){var t=e.getStock;return r.a.createElement(ue.a,null,r.a.createElement(Z.a,null,r.a.createElement(ue.a.Toggle,{as:Z.a.Header,eventKey:"0"},"Click here to insert a stock item"),r.a.createElement(ue.a.Collapse,{eventKey:"0"},r.a.createElement(Z.a.Body,null,r.a.createElement(_.a,{validationSchema:se,onSubmit:function(e){t(500),console.log(function(e){return te.apply(this,arguments)}(e))},initialValues:{name:"",count:-1}},(function(e){var t=e.handleSubmit,a=e.handleChange,n=(e.handleBlur,e.values,e.touched),o=(e.isValid,e.errors);return r.a.createElement(K.a,{noValidate:!0,onSubmit:t},r.a.createElement(K.a.Group,{controlId:"stockInputName"},r.a.createElement(K.a.Control,{type:"text",name:"name",placeholder:"Insert item name here",onChange:a,isValid:n.name&&!o.name,isInvalid:!!o.name}),r.a.createElement(K.a.Control.Feedback,null,"Looks good!")),r.a.createElement(K.a.Group,{controlId:"stockInputCount"},r.a.createElement(K.a.Control,{type:"number",name:"count",placeholder:"Insert item count here",onChange:a,isValid:n.count&&!o.count,isInvalid:!!o.count}),r.a.createElement(K.a.Control.Feedback,null,"Looks good!")),r.a.createElement(I.a,{variant:"success",type:"submit"},"Add item to database"))}))))))},de=a(204);var ge=function(){return r.a.createElement(N.a,{style:{display:"flex",justifyContent:"center"}},r.a.createElement(de.a,{animation:"border",role:"status",className:"mt-3",style:{marginLeft:"auto",marginRight:"auto"}},r.a.createElement("span",{className:"sr-only"},"Loading...")))},be=["english","spanish","french","chinese"];var pe=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),c=Object(b.a)(l,2),i=c[0],u=c[1],s=Object(n.useState)(be[0]),m=Object(b.a)(s,2),d=m[0],g=m[1];function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o([]),u(!1),setTimeout((function(){X().then((function(e){o(e.data)})).catch((function(e){return u(!0)}))}),e)}function E(e){return e.charAt(0).toUpperCase()+e.slice(1)}return Object(n.useEffect)((function(){p()}),[]),r.a.createElement(N.a,null,r.a.createElement("h1",{style:{textAlign:"center"}},"Stock"),r.a.createElement(N.a,{style:{display:"flex",alignItems:"center",padding:0}},r.a.createElement(B.a,{onChange:function(e){return console.log(e)}},r.a.createElement(B.a.Toggle,{variant:"type",id:"dropdown-basic",size:"md",className:"mb-3",style:{backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"}},"Language: ",r.a.createElement("b",null,E(d))),r.a.createElement(B.a.Menu,null,be.map((function(e){return r.a.createElement(B.a.Item,{onSelect:function(e){return g(e)},eventKey:e,key:e},E(e))})))),r.a.createElement("div",{style:{margin:"auto"}}),r.a.createElement(I.a,{variant:"type",size:"md",onClick:p,style:{backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"}},"Refresh")),!i&&r.a.createElement(me,{getStock:p}),0===a.length&&!i&&r.a.createElement(ge,null),a&&a.map((function(e){return r.a.createElement(ie,{stockItem:e,getStock:p,lang:"english"===d?"name":d,key:e._id})})),i&&r.a.createElement(ce,{heading:"Error",body:"An error occurred while trying to get the stock.",dismissible:!1}))},Ee=a(140),fe=a(329);var Fe=function(e){var t=e.show,a=e.handleClose,o=(e.getStock,e.stockId),l=e.stockName,c=e.stockCount,i=e.onRequest,u=Object(n.useState)(1),s=Object(b.a)(u,2),m=s[0],d=s[1];return r.a.createElement(Q.a,{show:t,onHide:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Q.a.Header,{closeButton:!0},r.a.createElement(Q.a.Title,{id:"contained-modal-title-vcenter"},"Select requested amount for: ",l)),r.a.createElement(Q.a.Body,null,r.a.createElement("p",null,"Current amount: ",r.a.createElement("b",null,c)),r.a.createElement("p",null,"Amount after order: ",r.a.createElement("b",null,c-m)),r.a.createElement(fe.a,{"aria-label":"Stock item request buttons",style:{display:"flex",alignItems:"center"}},r.a.createElement(I.a,{size:"lg",style:{backgroundColor:"#16AB8D",borderColor:"#FFFFFF",color:"#FFFFFF"},onClick:function(){m>1&&d(m-1)}},"-"),r.a.createElement(I.a,{size:"lg",variant:"secondary",style:{borderColor:"#FFFFFF"},disabled:!0},m),r.a.createElement(I.a,{size:"lg",style:{backgroundColor:"#2EFFD5",borderColor:"#FFFFFF",color:"#FFFFFF"},onClick:function(){m<c&&d(m+1)}},"+"))),r.a.createElement(Q.a.Footer,null,r.a.createElement(I.a,{variant:"secondary",style:{borderRadius:"200px"},onClick:a},"Close"),r.a.createElement(I.a,{onClick:function(){var e={id:o,name:l,requestedCount:m,countAfterRequest:c-m};console.log("submitRequest -> stockCount",c),console.log("submitRequest -> selectedAmount",m),console.log("countAfterRequest ->",e.countAfterRequest),i(e),a()},style:{backgroundColor:"#35E82A",borderColor:"#35E82A",borderRadius:"200px",color:"#FFFFFF"}},"Request amount")))};var he=function(e){var t=e.stockItem,a=e.getStock,o=e.lang,l=void 0===o?"name":o,c=e.onRequest,i=e.isRequested,u=void 0!==i&&i,s=Object(n.useState)(!1),m=Object(b.a)(s,2),d=m[0],g=m[1],p=Object(n.useState)(!1),E=Object(b.a)(p,2),f=E[0],F=E[1];return Object(n.useEffect)((function(){F(void 0!==t[l])}),[l,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{style:{margin:5}},r.a.createElement(Z.a.Body,null,r.a.createElement(Z.a.Header,{as:"h2"},f?t[l]:t.name,"name"!==l&&f?" ("+t.name+")":""),r.a.createElement(Z.a.Text,null,"Amount:"," ",r.a.createElement("font",{style:{fontSize:"1.4em",fontWeight:"bolder"}},t.count)),r.a.createElement(N.a,{style:{display:"flex",alignItems:"center",padding:0}},!f&&r.a.createElement($.a,{variant:"danger"},"Language unavailable: ",l),r.a.createElement("div",{style:{margin:"left"}}),r.a.createElement(I.a,{size:"lg",style:{alignSelf:"left",backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"},onClick:function(){return g(!0)},disabled:t.count<=0},t.count<=0?"Out of stock":u?"Edit requested amount":"Request item")),r.a.createElement(Z.a.Text,{style:{textAlign:"right"}},"Last updated:"," ",void 0!==t.timestamp?new Date(t.timestamp).toDateString():"Unavailable"))),r.a.createElement(Fe,{show:d,handleClose:function(){return g(!1)},getStock:a,stockName:t.name,stockId:t._id,stockCount:t.count,onRequest:c}))};var ye=function(e){var t=e.title,a=e.body,n=e.buttonText,o=e.show,l=e.handleClose;return r.a.createElement(Q.a,{show:o,onHide:l,centered:!0},r.a.createElement(Q.a.Header,{closeButton:!0},r.a.createElement(Q.a.Title,{id:"contained-modal-title-vcenter"},t)),r.a.createElement(Q.a.Body,null,a),r.a.createElement(Q.a.Footer,null,r.a.createElement(I.a,{onClick:l,style:{backgroundColor:"#16AB8D",borderColor:"#16AB8D",borderRadius:"200px",color:"#FFFFFF"}},n)))};var ke=function(){var e=Object(i.f)(),t=Object(i.g)(),a=void 0!==t.state,o=Object(n.useState)([]),l=Object(b.a)(o,2),c=l[0],u=l[1],s=Object(n.useState)(!1),m=Object(b.a)(s,2),d=m[0],g=m[1],p=Object(n.useState)(be[0]),E=Object(b.a)(p,2),f=E[0],F=E[1],h=Object(n.useState)(a?t.state.personInfo:R("personInfo",void 0)),y=Object(b.a)(h,2),k=y[0],v=(y[1],Object(n.useState)(R("requestedStockItems",[]))),C=Object(b.a)(v,2),O=C[0],S=C[1],j=Object(n.useState)(!1),w=Object(b.a)(j,2),x=w[0],A=w[1];function R(e,t){var a=localStorage.getItem(e);return a?JSON.parse(a):t}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u([]),g(!1),setTimeout((function(){X().then((function(e){u(e.data)})).catch((function(e){return g(!0)}))}),e)}function L(e){return e.charAt(0).toUpperCase()+e.slice(1)}function D(e){var t,a=O.find((function(t){return t.id===e.id}));if(void 0===a)t=O.concat(e);else{var n=O.indexOf(a);(t=Object(Ee.a)(O))[n].requestedCount=e.requestedCount,t[n].countAfterRequest=e.countAfterRequest}S(t),localStorage.setItem("requestedStockItems",JSON.stringify(t))}function z(){var e="";return O.forEach((function(t){e+=t.name+": "+t.requestedCount+", "})),e.slice(0,-2)}return Object(n.useEffect)((function(){k?(localStorage.setItem("personInfo",JSON.stringify(k)),q(),console.log(k)):e.push("/order")}),[a,e,k]),r.a.createElement(N.a,null,r.a.createElement("h1",{style:{textAlign:"center"}},"Select stock here"),O.map((function(e){return r.a.createElement("p",{key:e.name},e.name,": ",e.requestedCount)})),!d&&r.a.createElement(I.a,{variant:"type",className:"mb-3",onClick:function(){!function(e){V.apply(this,arguments)}({firstname:k.firstName,lastname:k.lastName,adults:k.adults,children:k.adults,zipcode:k.zipcode,"order-notes":z(),fulfilled:!1});var e=O.map((function(e){return console.log("making promise... ",e.countAfterRequest),ae(e.id,{newCount:e.countAfterRequest})}));Promise.all(e).then((function(e){return console.log(e)})),localStorage.removeItem("requestedStockItems"),localStorage.removeItem("personInfo"),A(!0)},block:!0,style:{backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"},disabled:0===O.length},O.length>0?"Submit request":"Select items below"),r.a.createElement(N.a,{style:{display:"flex",alignItems:"center",padding:0}},r.a.createElement(B.a,{variant:"type",onChange:function(e){return console.log(e)}},r.a.createElement(B.a.Toggle,{variant:"type",id:"dropdown-basic",size:"md",className:"mb-3",style:{backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"}},"Language: ",r.a.createElement("b",null,L(f))),r.a.createElement(B.a.Menu,null,be.map((function(e){return r.a.createElement(B.a.Item,{onSelect:function(e){return F(e)},eventKey:e,key:e},L(e))})))),r.a.createElement("div",{style:{margin:"auto"}}),r.a.createElement(I.a,{variant:"type",size:"md",onClick:q,style:{backgroundColor:"#16AB8D",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"}},"Refresh")),0===c.length&&!d&&r.a.createElement(ge,null),c&&k&&c.map((function(e){return r.a.createElement(he,{stockItem:e,getStock:q,lang:"english"===f?"name":f,key:e._id,onRequest:D,isRequested:O.some((function(t){return e._id===t.id}))})})),d&&r.a.createElement(ce,{heading:"Error",body:"An error occurred while trying to get the stock.",dismissible:!1}),r.a.createElement(ye,{style:{backgroundColor:"#16AB8D",borderColor:"#16AB8D",color:"#FFFFFF"},title:"Order successfully placed!",body:"Thanks for your patronage! Your order will be fulfilled shortly.",buttonText:"Back to Home",show:x,handleClose:function(){A(!1),e.push("/")}}))},ve=a(163),Ce=a.n(ve);var Oe=function(e){var t=e.person,a=e.show,n=e.handleClose,o=e.fulfillPerson;return r.a.createElement(Q.a,{show:a,onHide:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(Q.a.Header,null,"Confirm fulfillment"),r.a.createElement(Q.a.Body,null,r.a.createElement("h5",null,"Are you sure that ",t.firstname,"'s order is correct and has been fulfilled?"),r.a.createElement("p",null,t["order-notes"])),r.a.createElement(Q.a.Footer,null,r.a.createElement(I.a,{variant:"secondary",style:{borderRadius:"200px"},onClick:n},"Close"),r.a.createElement(I.a,{onClick:function(){o(t._id),n()},style:{backgroundColor:"#35E82A",borderColor:"#FFFFF5",color:"#FFFFFF",borderRadius:"200px"}},"Confirm fulfillment")))};var Se=function(e){var t=e.person,a=e.fulfillPerson,o=Object(n.useState)(!1),l=Object(b.a)(o,2),c=l[0],i=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{key:t._id,size:"lg",style:{margin:5}},r.a.createElement(Z.a.Body,null,r.a.createElement(Z.a.Header,{as:"h2"},t.firstname," ",t.lastname),r.a.createElement(Z.a.Text,null,t["order-notes"]),r.a.createElement(I.a,{onClick:function(){return i(!0)},block:!0,style:{backgroundColor:"#16AB8D",borderColor:"#16AB8D",borderRadius:"200px",color:"#FFFFFF"}},"Fulfill Order"))),r.a.createElement(Oe,{person:t,show:c,handleClose:function(){return i(!1)},fulfillPerson:a}))},je=a(339),we=a(331),xe=a(341),Ae=a(207),Ie=a(330),Ne=a(205),Be=a.n(Ne),Re=a(332),qe=Object(p.a)((function(e){return{button:{justifyContent:"center",marginBottom:e.spacing(1)},dialog:{display:"flex",flexDirection:"column",margin:"auto",width:"fit-content"},image:{width:e.spacing(25),height:e.spacing(25),marginTop:e.spacing(20)},grid:{textAlign:"center"}}})),Le=Object(Ae.a)({palette:{primary:{main:"#00c853"},secondary:{main:"#00c853"},action:{main:"#00c853"}}});function De(){var e=qe(),t=r.a.useState(!0),a=Object(b.a)(t,2),n=a[0],o=a[1],l=function(){o(!1)};return r.a.createElement("div",null,r.a.createElement(Ie.a,{theme:Le},r.a.createElement(je.a,{open:n,maxWidth:"lg",keepMounted:!0,onClose:l,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",className:e.dialog},r.a.createElement(xe.a,{id:"alert-dialog-slide-title"},"No orders at the moment"),r.a.createElement(we.a,{className:e.button},r.a.createElement(g.a,{onClick:l,color:"primary",variant:"contained"},"OK")))),r.a.createElement(Re.a,{container:!0,className:e.grid},r.a.createElement(Re.a,{item:!0,lg:4,sm:4}),r.a.createElement(Re.a,{item:!0,xs:12,lg:4,sm:4,className:e.grid},r.a.createElement("img",{alt:"Shopping cart",src:Be.a,className:e.image})),r.a.createElement(Re.a,{item:!0,lg:4,sm:4})))}var ze=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],o=t[1];function l(e){var t=Ce()(z);console.log("printing socket object: "),console.log(t),console.log("emitting personfulfilled"),t.emit("personFulfilled",e),t.on("personFulfillSuccess",(function(e){console.log("confirmed "+e),t.disconnect()})),o(a.filter((function(t){return t._id!==e})))}return Object(n.useEffect)((function(){var e=Ce()(z);e.on("person",(function(e){t(e)}));var t=function(e){o((function(t){return[].concat(Object(Ee.a)(t),[e])}))};return function(){console.log("effect done"),e.disconnect()}}),[]),r.a.createElement(N.a,null,0===a.length&&r.a.createElement(De,null),a&&a.map((function(e){return r.a.createElement(Se,{fulfillPerson:l,person:e,key:e._id})})))},Te=a(333),Ve=a(202);var He=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],o=t[1];return r.a.createElement(N.a,{style:{textAlign:"center"}},r.a.createElement("h1",null,"Log In"),r.a.createElement(Z.a,{className:"mb-3"},r.a.createElement(Z.a.Body,null,r.a.createElement("p",null,"Gain full access to your pantry's stock and current orders."),r.a.createElement(Te.a,{className:"mb-3",size:"lg",onChange:function(e){o(e.target.value)}},r.a.createElement(Ve.a,{"aria-label":"Default",placeholder:"Enter your pantry name here","aria-describedby":"inputGroup-sizing-default"})),r.a.createElement(I.a,{style:{backgroundColor:"green"},onClick:function(){console.log("log in to pantry: ".concat(a))}},"Login to your pantry"))),r.a.createElement(Z.a,null,r.a.createElement(Z.a.Body,null,r.a.createElement("p",null,"Don't have a pantry with us yet?"),r.a.createElement(I.a,{style:{backgroundColor:"green"},onClick:function(){console.log("signup")}},"Sign up to create a pantry"))))};var Pe=function(){return r.a.createElement(c.a,{basename:"/panlang-ui"},r.a.createElement(x,null),r.a.createElement("div",{style:{padding:55}}),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(W,null)),r.a.createElement(i.a,{exact:!0,path:"/about"},r.a.createElement(M,null)),r.a.createElement(i.a,{path:"/stock"},r.a.createElement(pe,null)),r.a.createElement(i.a,{path:"/order"},r.a.createElement(Y,null)),r.a.createElement(i.a,{path:"/order-stock"},r.a.createElement(ke,null)),r.a.createElement(i.a,{path:"/order-tracker"},r.a.createElement(ze,null)),r.a.createElement(i.a,{path:"/login"},r.a.createElement(He,null)),r.a.createElement(i.a,{path:"*"},r.a.createElement("h1",null,"Welcome to ",r.a.createElement("font",{style:{color:"#26B020"}},"Pan-Lang"),"!"))))},Ge=a(334);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(280),a(281);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Ge.a,null),r.a.createElement(Pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[215,1,2]]]);
//# sourceMappingURL=main.e19c56c8.chunk.js.map